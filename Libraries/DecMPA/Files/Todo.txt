- Test on other operating systems

- clean the code up a little more
